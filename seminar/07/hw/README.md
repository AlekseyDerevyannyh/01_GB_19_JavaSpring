# Курс "Фреймворк Spring" 
## Домашняя работа 7
* **
### Автор:
Деревянных Алексей
* **
### Примечание:

Исходники в папке **./src/main/java/ru/gb/**

Запуск приложения осуществляется из файла **Application.java**

В качестве БД использовалась PostgreSQL, запущенная на сервере в локальной сети. БД была запущена в Docker контейнере, для этого был создан Dockerfile со следующим содержимым:
```bash
FROM postgres:13.2-alpine
ENV POSTGRES_DB library
ENV POSTGRES_USER library
ENV POSTGRES_PASSWORD secret
```
Для создания и запуска контейнера с БД вводим в терминале сервера следующие команды:
```bash
docker build -t library-db .
docker run --name library-db -p 5432:5432 -d library-db
```
Соответствующие параметры подключения приложения к БД были прописаны в файле **./src/main/resources/application.yml**

Данные о пользователях и их ролях для доступа к ресурсам загружаются в БД из файла **./src/main/java/ru/gb/repository/DataLoader.java**

* **
### Условие задачи:
```dbn-psql
1. Для ресурсов, возвращающих HTML-страницы, реализовать авторизацию через login-форму.
Остальные /api ресурсы, возвращающие JSON, закрывать не нужно!
2.1* Реализовать таблицы User(id, name, password) и Role(id, name), связанные многие ко многим
2.2* Реализовать UserDetailsService, который предоставляет данные из БД (таблицы User и Role)
3.3* Ресурсы выдачей (issue) доступны обладателям роли admin
3.4* Ресурсы читателей (reader) доступны всем обладателям роли reader
3.5* Ресурсы книг (books) доступны всем авторизованным пользователям
```
